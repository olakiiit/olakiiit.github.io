<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Книга (vers: MB)</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f4f4f9;
        }
        .image-container {
            width: 100vw;
            height: calc(100vh - 100px); /* Вычитаем высоту кнопок и оглавления */
            overflow: hidden;
            position: relative;
        }
        img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border: none;
        }
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100vw;
            height: 50px;
            background-color: #fff;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        }
        .controls button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            background-color: transparent;
        }
        .controls button:hover {
            background-color:rgb(170, 167, 167);
        }
        .toc-button {
            bottom: 60px;
            right: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .input-container {
            margin-top: 10px; /* Отступ сверху для поля ввода */
        }
        input[type="number"] {
            padding: 10px;
            font-size: 16px;
            width: 100px;
        }
        .toc-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100vw;
            height: 0;
            overflow-y: auto;
            background-color: #fff;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
            transition: height 0.3s ease-in-out;
            z-index: 1000;
        }
        .toc-container.open {
            height: 300px; /* Высота открытого оглавления */
        }
        .toc-item {
            padding: 10px;
            cursor: pointer;
        }
        .toc-item:hover {
            background-color: #f0f0f0;
        }
        .input-container {
            display: none; /* Скрываем поле ввода на мобильных устройствах */
        }
        .kr {
            cursor:pointer;
            font-style: italic;
            padding: 5px 0;
            background-color: rgba(245, 197, 4, 0.888);
        }
        .kr:hover {
            background-color: #e2ac0a;
        }
        .exitTOC {
            display: flex;
            justify-content: space-between;
            background-color: darkgrey;
            text-align: center;
            font-size: large;
            font-style: normal;
        }
        button.exitTOC {
            font-size:small;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <img id="pageImage" src="1.svg" alt="Страница книги">
    </div>
    <div class="controls">
        <button onclick="prevPage()">←</button>
        <button class="toc-button" onclick="toggleTOC()">☰</button>
        <input type="number" id="pageNumberInput" min="1" max="488" placeholder="Номер стр.">
        <button onclick="goToPage()">Перейти</button>
        <button onclick="nextPage()">→</button>
    </div>
    <div class="toc-container" id="tocContainer">
        <div class="exitTOC">Оглавление
            <button class="exitTOC" onclick="toggleTOC()">X</button>
        </div>
        <div class="toc-item" onclick="goToPageNumber(17)">Урок 1: Неопределенный и определенный артикли. Предлоги местонахождения in, on, at, under. Сочетание прилагательного с существительным. Указательные местоимения this, that. Простое английское предложение глагольной формой</div>
        <div class="toc-item" onclick="goToPageNumber(22)">Урок 2: Предлог of, наречие like, вопрос. предложение, общий вопрос, отриц. предложение</div>
        <div class="toc-item" onclick="goToPageNumber(28)">Урок 3: Цепочка определений, притяж. падеж сущ., предлог for, личные мест., альтернативные и отриц. вопросы с is</div>
        <div class="toc-item" onclick="goToPageNumber(34)">Урок 4: Наречия as, as for, very, so; парный союз as ... as...</div>
        <div class="toc-item" onclick="goToPageNumber(42)">Урок 5: Предлоги from over. Парные союзы not as... as... , not so... as... . Степени сравнения прилагательных</div>
        <div class="toc-item" onclick="goToPageNumber(52)">Урок 6: Предлоги to и with. Сочетание the... , the... . Заменитель предыдущего существительного that. Местоимение it</div>
        <div class ='kr' onclick="goToPageNumber(61)">Контрольная работа по урокам 1 - 6</div>
        <div class="toc-item" onclick="goToPageNumber(62)">Урок 7: Предлог after. Короткие ответы «да» и «нет». Разделительный вопрос с глагольной формой is. Специальные вопросы с глагольной формой is</div>
        <div class="toc-item" onclick="goToPageNumber(74)">Урок 8: Предлоги behind in front of. Специальные вопросы с глагольной формой is</div>
        <div class="toc-item" onclick="goToPageNumber(82)">Урок 9: Предлог till. Дни недели и месяцы. Безличное предложение. Местоимение that - «который». Усилительная конструкция It is... that (who)...</div>
        <div class="toc-item" onclick="goToPageNumber(90)">Урок 10: Предлог by. Количественные и порядковые числительные 1-12</div>
        <div class="toc-item" onclick="goToPageNumber(101)">Урок 11: Предлог between. Притяжательное местоимение its. Количественные и порядковые числительные. Время. Даты. Возраст</div>
        <div class="toc-item" onclick="goToPageNumber(111)">Урок 12: Предлоги about, above below. Дроби. Температура. Союз that «что». Предложения в первом лице... Контрольная работа по урокам</div>
        <div class ='kr' onclick="goToPageNumber(123)">Контрольная работа по урокам 7 - 12</div>
        <div class="toc-item" onclick="goToPageNumber(124)">Урок 13: Множественное число существительных. Личные местоимения we, you, they. Глагольная форма are. Указательные местоимения these, those. Личные местоимения в притяжательном падеже...</div>
        <div class="toc-item" onclick="goToPageNumber(142)">Урок 14: Предлоги among и near. Притяжательные местоимения в абсолютной форме. Заменители существительного во множественном числе ones those. Оборот there is / there are...</div>
        <div class="toc-item" onclick="goToPageNumber(157)">Урок 15: Степени сравнения прилагательных. Количественные местоимения</div>
        <div class="toc-item" onclick="goToPageNumber(173)">Урок 16: Предлог before и союз because. Неопределенные местоимения</div>
        <div class="toc-item" onclick="goToPageNumber(192)">Урок 17: Глагол to have. Место наречий в предложении</div>
        <div class="toc-item" onclick="goToPageNumber(210)">Урок 18: Возвратные местоимения. Парные союзы both, and, either or, neither nor. Сравнение глагола to have с оборотом there is /there are...</div>
        <div class ='kr' onclick="goToPageNumber(221)">Контрольная работа по урокам 13 - 18</div>
        <div class="toc-item" onclick="goToPageNumber(222)">Приложение</div>        
    </div>

    <script>
        let currentPage = 1;
        const totalPages = 488;

        function updateImage() {
            const imgElement = document.getElementById('pageImage');
            imgElement.src = `${currentPage}.svg`;
        }

        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updateImage();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updateImage();
            }
        }

        function goToPage() {
            const pageNumberInput = document.getElementById('pageNumberInput');
            const pageNumber = parseInt(pageNumberInput.value, 10);

            if (!isNaN(pageNumber) && pageNumber >= 1 && pageNumber <= totalPages) {
                currentPage = pageNumber;
                updateImage();
            } else {
                alert("Введите корректный номер страницы (от 1 до 488).");
            }
        }

        function goToPageNumber(pageNumber) {
            if (pageNumber >= 1 && pageNumber <= totalPages) {
                currentPage = pageNumber;
                updateImage();
                toggleTOC(); // Закрываем оглавление после перехода
            } else {
                alert("Неверный номер страницы.");
            }
        }

        function toggleTOC() {
            const tocContainer = document.getElementById('tocContainer');
            tocContainer.classList.toggle('open');
        }

        // Обновляем изображение при загрузке страницы
        window.onload = updateImage;
    </script>
</body>
</html>